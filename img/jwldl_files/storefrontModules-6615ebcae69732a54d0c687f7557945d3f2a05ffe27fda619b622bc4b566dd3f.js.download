(()=>{var e,t={"./packages/@editor/storefront-controller/modules/index.ts":(e,t,n)=>{"use strict";let o;n.r(t),function(e){e.ShopifyContentForIndexTemplate="shopify-index-template",e.Index="index",e.Article="article",e.Blog="blog",e.Cart="cart",e.Collection="collection",e.Product="product",e.Page="page",e.Search="search",e.ListCollections="list-collections",e.Checkout="checkout",e.CheckoutOne="checkout-one",e.Customer="customer",e.Custom="page",e.NotFound="404",e.GiftCard="gift_card",e.Password="password",e.Policy="policy",e.Accessory="accessory",e.CustomersAccount="customer/account",e.CustomersActivateAccount="customers/activate_account",e.CustomersAddresses="customers/addresses",e.CustomersLogin="customers/login",e.CustomersOrder="customers/order",e.CustomersRegister="customers/register",e.CustomersResetPassword="customers/reset_password"}(o||(o={}));var r=n("./node_modules/qs/lib/index.js");const s=/[|\\{}()[\]^$+*?.]/g;function i(e){return[...new Set(e)]}var c=n("./packages/@editor/storefront-controller/modules/utilities/domain.ts");const l=" BEGIN template ",a=" END template ",u=" BEGIN content_for_index ",d=" END content_for_index ",f="shopify-section",m=" BEGIN main ",h=" END main ",p="OnlineStoreEditorData",g="oseid";var y=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts"),S=n("./packages/@editor/storefront-controller/modules/utilities/emit-event.ts");function E(e){const t=(0,y.er)(),{oseid:n,shop:o,editorDomain:r}=t||{},s=JSON.stringify({shop:o,oseId:n,editorDomain:r}),i=document.querySelector("#OnlineStoreEditorShopifyGlobalData"),c=`\n      ${e}\n      window.Shopify details = ${s}\n      Global shopify data script tag exists: ${Boolean(i)}`;(0,S.K)("StorefrontEvent::Error",{errorMessage:c})}const w={error:!1},I={error:!0};function b(e,t){C("message",(async n=>{const o=(0,c.kY)();if(n.origin===o&&n.data.type===e){const e=n.data.payload;let s;try{const o=await t(e,n);s=o?{...o,error:!1}:w}catch(r){s={...I,errorMessage:r.message}}(0,y.YM)().parent.postMessage({id:n.data.id,type:n.data.type,payload:s},o)}}))}function C(e,t,n){window.addEventListener(e,(e=>{A(t,e)}),n)}function v(e,t,n){document.addEventListener(e,(e=>{A(t,e)}),n)}function k(e){"complete"===document.readyState?A(e):C("load",e)}async function A(e,t){try{await e(t)}catch(n){(0,S.K)("StorefrontEvent::Error",{errorMessage:n.message,stackTrace:n.stack})}}function M(e){try{const{search:t,pathname:n,hostname:o}=new URL(e);return{search:t,pathname:n,hostname:o}}catch{const t=document.createElement("a");t.href=e;const{search:n,pathname:o,hostname:r}=t;return{search:n,pathname:o,hostname:r}}}function T(e,t){try{return new URL(e).searchParams.get(t)}catch{const{search:n}=M(e);return(0,r.parse)("?"===n.charAt(0)?n.substr(1):n)[t]}}function x(e,t=50,n={isImmediate:!1,isTrailing:!0}){let o;const r=(r,...s)=>{const i=n.isImmediate&&null==o;null!=o&&clearTimeout(o),o=setTimeout((function(){o=null,n.isTrailing&&e.apply(r,s)}),t),i&&e.apply(r,s)};return r.cancel=()=>o&&clearTimeout(o),r}const N=/^\s*https?:\/\//i,O=/^\s*mailto:/i,_=/^\s*blob:https?:\/\//i;function $(e){return N.test(e)}function F(e,t){return B(t).test(e)}function P({oseid:e}){return{[g]:e}}function B({oseid:e}){return new RegExp(`[\\?|\\&]oseid=${e}`)}const H=/\/.*$/,D=/\/admin/i,L=/^[^/]*\/\/checkout\.(my)?shopify\.(com|io)/i,G=["data-url"],R="data-editor-form-attribute";let K,q,U=[];var j;function V(){[...document.querySelectorAll("form")].forEach((e=>{e.hasAttribute("action")&&!Z(e.action)||e.hasAttribute(R)||(e.hasAttribute("action")&&e.setAttribute("action",function(e){const t=e.action;if(null==t)return t;const n=t.replace("://","").match(H);return null==n?t:Q(n[0]||"/")}(e)),e.insertAdjacentHTML("beforeend",`<input type="hidden" name="oseid" value="${K}">`),e.setAttribute(R,""))})),function(e){const t=document.createElement("a");e.forEach((e=>{document.querySelectorAll(`[${e}^="http"]`).forEach((n=>{const o=n.getAttribute(e);o&&Z(o)&&(t.href=o,n.setAttribute(e,X(t)))}))}))}(G)}!function(e){e[e.MainButton=0]="MainButton",e[e.AuxiliaryButton=1]="AuxiliaryButton",e[e.SecondaryButton=2]="SecondaryButton",e[e.ForthButton=3]="ForthButton",e[e.FifthButton=4]="FifthButton"}(j||(j={}));const J=e=>{q=`https://${e.permanentDomain}`,U=e.domains,V()};const z=({url:e,options:t})=>{const{search:n,pathname:o}=M(window.location.href),{search:s,pathname:i,hostname:c}=M(e),{oseid:l,...a}=(0,r.parse)(n.substr(1)),u=(0,r.parse)(s.substr(1));if(o===i&&(0,r.stringify)(a)===(0,r.stringify)(u))return;const d=`https://${c}${i}?${(0,r.stringify)({...u,...P({oseid:K})})}`;null!=t&&t.ignoreInBrowserHistory?window.location.replace(d):window.location.assign(d)};function Y(e){if(null==e.target)return null;const t=e.target,n=ne(t)?t:t.closest("a");if(e.button!==j.MainButton||null==n||!ne(n))return null;switch(e.eventPhase){case Event.CAPTURING_PHASE:return void(Z((o=n).href)&&!F(o.href,(0,y.er)())&&(o.href=X(o),o.target=""));case Event.BUBBLING_PHASE:return function(e,t){if(e.defaultPrevented)return;if(!($(t.href)&&F(t.href,(0,y.er)())&&(n=t.href,!O.test(n))||""===t.href)){const n=`This link cannot be opened inside the editor. It will be opened in a new window (${t.href}). Click OK to continue.`;confirm(n)&&open(t.href),e.preventDefault()}var n}(e,n);default:return null}var o}function X(e){return Q(`https://${e.host}${e.pathname}${e.search}${e.hash}`)}function W(e,t){const n=function(e,t){const n=B(t);if(n.test(e)){const[t,o]=e.split(n),r=`${t}${o}`;return r.includes("?")?r:r.replace("&","?")}return e}(e,(0,y.er)()),[o,r]=n.split("#"),s=o.indexOf("?")>=0?"&":"?",i=r?`#${r}`:"",c=t.reduce(((e,t)=>`${e}&${t.key}=${t.value}`),"").replace("&",s),l=(a=o,U.reduce(((e,t)=>{if(null==q)return e;const n=M(a).hostname;if(n===q)return e;const o=`https://${t}`;if(n===M(o).hostname)return e.replace(o,q);const r=`http://${t}`;return n===M(r).hostname?e.replace(r,q):e}),a));var a;return`${l}${c}${i}`}function Q(e){const t=[],n=P({oseid:K});return Object.entries(n).map((([e,n])=>{null!=n&&t.push({key:e,value:n})})),W(e,t)}function Z(e){const t=U.reduce(((e,t)=>{var n;return[...e,new RegExp(`^[^/]*//${n=t,n.replace(s,"\\$&")}`,"i")]}),[L]).find((t=>t.test(e)&&!D.test(e)));return Boolean(t)}function ee(e){return t=e,(!_.test(t)||!Z(e))&&($(e)&&Z(e)||!$(e));var t}const te={XMLHttpRequest:e=>function(t,n,o,r,s){let i=n;return ee(n)&&(i=Q(n)),ce(n),e.call(this,t,i,o,r,s)},Request:e=>function(t,n){if("object"==typeof t)return new e(t,n);let o=t;return ce(t),ee(t)&&(o=Q(t)),new e(o,n)},fetch:e=>function(t,n){if("object"==typeof t)return e.call(window,t,n);let o=t;return ce(t),ee(t)&&(o=Q(t)),e.call(window,o,n)},replaceState:e=>function(t,n,o){let r=o;return o&&ee(o)&&(r=Q(o)),e.call(window.history,t,n,r)},pushState:e=>function(t,n,o){let r=o;return o&&ee(o)&&(r=Q(o)),e.call(window.history,t,n,r)}};function ne(e){return"A"===e.tagName}function oe(){F(window.location.href,(0,y.er)())||history.replaceState(history.state,"",Q(window.location.href))}function re(){V(),function(){const e=document.getElementsByTagName("base");for(const t of e)t.remove()}()}const se=x(re,1e3,{isTrailing:!0});function ie(){new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&se()}))})).observe(document.body,{subtree:!0,childList:!0})}function ce(e){try{const t=T(e,"section_id"),n=T(e,"sections"),o=i([...n&&n.length>0?n.split(","):[],...null==t?[]:[t]]);if(0===o.length)return;(0,S.K)("StorefrontEvent::PublicSectionRenderingApiRequest",{uniqueIds:o})}catch(t){}}function le(){(0,S.K)("StorefrontEvent::Scroll",{pathname:window.location.pathname,xOffset:window.pageXOffset,yOffset:window.pageYOffset})}let ae;function ue(e,t){null!=e&&null!=e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)}function de(e,t){const n=t.getPropertyValue(e);try{return JSON.parse(n)}catch{return null}}!function(e){e.ContentForIndex="INDEX",e.Template="JSON_TEMPLATE",e.Static="STATIC",e.Group="SECTION_GROUP"}(ae||(ae={}));const fe="shopify-section-";function me(e){const t=Ie(e);return document.getElementById(t)}function he(e,t){const n=function(e){return`[data-shopify-editor-block^='{"id":"${e}"']`}(t);return e.querySelector(n)}function pe(e,t){const n=function(e,t=document.body){return document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,{acceptNode:function(t){return t.data===e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}})}(e,t);return n.nextNode()}function ge(e,t){return null!=e&&Boolean(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}function ye(e,t){return null!=e&&Boolean(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING)}function Se(e,t,n){return ye(e,t)&&ge(n,t)}function Ee(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function we(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function Ie(e){return fe+e}function be(e,t){return Array.from(document.getElementsByClassName(f)).reduce(((n,o)=>ye(e,o)&&ge(t,o)?[...n,o]:n),[])}function Ce(){return pe(u)}function ve(){return pe(d)}function ke(){return[Ce(),ve()]}function Ae(){return pe(m)}function Me(){return pe(h)}function Te(){return pe(l)}function xe(){return pe(a)}function Ne(){return[Te(),xe()]}function Oe(e){return pe(` BEGIN sections: ${e} `)}class _e extends Error{constructor(){super("OnlineStoreEditorData script tag cannot be found")}}let $e;function Fe(){return $e||Pe()}function Pe(){return $e=function(){const e=document.getElementById(p);if(null==e||null==e.textContent)throw new _e;try{const{sectionsData:t,...n}=JSON.parse(e.textContent);return{...n,sectionsData:t.map((e=>({...e,scope:Be(e)})))}}catch{throw new Error("OnlineStoreEditorData content cannot be parsed")}}()}function Be(e){return null!=e.scope?e.scope:e.isContentForIndex||e.isContentForJsonTemplate?e.isContentForIndex?ae.ContentForIndex:e.isContentForJsonTemplate?ae.Template:ae.Static:ae.Static}function He(e){const{id:t,section_id:n,block_id:o,app_embed_id:r,color_scheme_id:s}=e;return n&&o?Ge(o,n,t):n?Le(n,t):r&&o?Re(r,o,t):De(t,s)}function De(e,t){return`${t?`color-scheme-${t}-`:""}setting-${e}`}function Le(e,t){return`section-${e}-setting-${t}`}function Ge(e,t,n){return`section-${t}-block-${e}-setting-${n}`}function Re(e,t,n){return`app-${e}-block-${t}-setting-${n}`}const Ke='link[rel="stylesheet"][href*="/checkout_stylesheet/"]',qe=new RegExp("/checkout_stylesheet\\/(.*)"),Ue="data-shopify-editor",je='link[rel="stylesheet"][href*="/editor_asset/"]',Ve=/[^A-Za-z0-9\-_]/g,Je=new RegExp("/editor_asset\\/(.*)");async function ze(){return function(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];return{accessedInStylesheets:[...t.accessedInStylesheets,...o.accessedInStylesheets],filteredColorsInStylesheets:[...t.filteredColorsInStylesheets,...o.filteredColorsInStylesheets]}}),{filteredColorsInStylesheets:[],accessedInStylesheets:[]})}(await async function(){const e=await Ze(je),t=await Ze(Ke),n=window.getComputedStyle(document.body),o=Ye({styles:n,stylesheets:e,stylesheetsDetails:{}});return Ye({styles:n,stylesheets:t,customAssetName:"shopify-checkout",stylesheetsDetails:o})}())}function Ye({styles:e,stylesheets:t,customAssetName:n,stylesheetsDetails:o}){return t.reduce(((t,o)=>{let r=o.href,s=n;if(null==s){if(r=We(o),null==r)return t;s=Xe(r)}const{accessedSettings:i}=Qe(s,e),c=function(e,t){return de(`--shopify-editor-${e}-filtered-color-settings`,t)||[]}(s,e);let l=[o];return null!=t[r]&&t[r].elements.includes(o)?l=t[r].elements:null!=t[r]&&(l=[...t[r].elements,o]),{...t,[r]:{accessedInStylesheets:i,assetName:s,elements:l,filteredColorsInStylesheets:c}}}),o)}function Xe(e){return e.replace(".scss","").replace(".css","").replace(Ve,"-")}function We(e){const t=e.href.match(Je)||e.href.match(qe);return null==t?null:t[1]}function Qe(e,t){let n=de(`--shopify-editor-${e}-accessed-settings`,t);return null!=n?{accessedSettings:n,isCheckoutAsset:!1}:(n=de("--shopify-editor-shopify-checkout-accessed-settings",t),null!=n?{accessedSettings:n,isCheckoutAsset:!0}:{accessedSettings:[],isCheckoutAsset:!1})}async function Ze(e){const t=[...document.querySelectorAll(e)].filter((e=>!e.disabled));var n;return await(n=t,Promise.all(n.map(tt))),t}async function et(e){var t;return[...await Ze(je),...await Ze(Ke),...(t="style[filename]",[...document.querySelectorAll(t)])].reduce(((t,n)=>{const{filename:o,accessedInStylesheets:r,isCheckoutAsset:s,href:i}=function(e){let t=null,n=null,o=!1,r="";if("STYLE"===e.nodeName){t=e.getAttribute("filename");const s=e.getAttribute("accessedinstylesheets");n=s?JSON.parse(s):null,o="true"===e.getAttribute("isCheckoutAsset"),r=e.getAttribute("href")||""}if(function(e){return"LINK"===e.nodeName}(e)){t=We(e);const s=t?Xe(t):null,i=s?Qe(s,window.getComputedStyle(document.body)):null;null!=i&&(n=i.accessedSettings,o=i.isCheckoutAsset),r=e.href}return{filename:t,accessedInStylesheets:n,isCheckoutAsset:o,href:r}}(n);return o&&r?(e.some((e=>null==r?void 0:r.includes(e)))&&(t[o]={element:n,accessedInStylesheets:r,isCheckoutAsset:s,href:i}),t):t}),{})}function tt(e){return new Promise((t=>{const n=[...document.styleSheets];null!=e.sheet&&n.includes(e.sheet)?t():e.addEventListener("load",(()=>t()),!0)}))}const nt="data-live-text-setting",ot="/escape";const rt="data-accessed-settings";async function st(){const{accessedThemeSettings:e}=Fe(),{accessedInStylesheets:t,filteredColorsInStylesheets:n}=await ze(),{accessedInStyleElements:o,filteredColorsInStyleElements:r}=Array.from(document.querySelectorAll("[data-shopify-editor]")).reduce(((e,t)=>{const n=t.getAttribute(Ue);if("STYLE"===t.nodeName&&n){const{accessedSettings:t,filteredColorSettings:o}=JSON.parse(n),r=t.map((e=>He(e))),s=o.map((e=>He(e)));e.accessedInStyleElements=[...e.accessedInStyleElements,...r],e.filteredColorsInStyleElements=[...e.filteredColorsInStyleElements,...s]}return e}),{accessedInStyleElements:[],filteredColorsInStyleElements:[]}),s=Array.from(document.querySelectorAll("[data-live-text-setting]")).reduce(((e,t)=>{const n=t.getAttribute(nt);return null==n?e:[...e,n.replace(ot,"")]}),[]);return{accessedInStylesheets:t,accessedInScripts:[...document.querySelectorAll("[data-accessed-settings]")].reduce(((e,t)=>{const n=t.getAttribute(rt);if(null==n)return e;try{return[...e,...JSON.parse(n)]}catch(o){return e}}),[]),accessedInHtml:e,filteredColorsInStylesheets:n,accessedInStyleElements:o,filteredColorsInStyleElements:r,liveSettingTextKeys:s}}let it;!function(e){e.NestedSectionMarkup="NestedSectionMarkup",e.NestedContentForIndexComments="NestedContentForIndexComments",e.ContentForIndexCommentsAreNotSiblings="ContentForIndexCommentsAreNotSiblings",e.ContentForIndexCommentsAreNotSiblingsNoSections="ContentForIndexCommentsAreNotSiblingsNoSections",e.MissingContentForIndexComments="MissingContentForIndexComments",e.BeginContentForIndexAfterEndComment="BeginContentForIndexAfterEndComment",e.MissingMainComments="MissingMainComments",e.BeginMainAfterEndComment="BeginMainAfterEndComment"}(it||(it={}));const ct="data-shopify-editor-section",lt="data-shopify-editor-block",at=`[${ct}]`,ut=`${at} ${at}`;function dt(){const[e,t]=ke();if(e&&t){const n=ft();if(null!=n)return n;const o=function(e,t){if(null!=e&&null!=t)return null;return{type:it.MissingContentForIndexComments,data:{beginComment:Boolean(e),endComment:Boolean(t)}}}(e,t);return null!=o?o:function(e,t){if(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)return{type:it.BeginContentForIndexAfterEndComment};return null}(e,t)||function(e,t){const n=Array.from(document.querySelectorAll(at)).find((n=>n.contains(e)||n.contains(t)));if(null==n)return null;const o=mt(n).find((n=>n.contains(e)||n.contains(t)));return null==o?{type:it.NestedContentForIndexComments,data:{section:ht(n)}}:{type:it.NestedContentForIndexComments,data:{section:ht(n),block:pt(o)}}}(e,t)||function(e,t){if(e.parentNode===t.parentNode)return null;const n=(function(){const[e,t]=ke();return null==t||null==e?null:be(e,t)}()||[]).pop();return null==n?{type:it.ContentForIndexCommentsAreNotSiblingsNoSections}:{type:it.ContentForIndexCommentsAreNotSiblings,data:{section:ht(n)}}}(e,t)}return function(){const[e,t]=[Ae(),Me()];if(null==e&&null==t)return null;const n=function(e,t){if(null!=e&&null!=t)return null;return{type:it.MissingMainComments,data:{beginComment:Boolean(e),endComment:Boolean(t)}}}(e,t);if(null!=n)return n;if(null==e||null==t)return null;const o=function(e,t){if(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)return{type:it.BeginMainAfterEndComment};return null}(e,t);if(null!=o)return o;return null}()||ft()}function ft(){const e=Array.from(document.querySelectorAll(ut))[0];if(null==e)return null;const t=function(e){if(null==e.parentElement)return null;return e.parentElement.closest(at)}(e);if(null==t)return null;const n=mt(t).find((t=>t.contains(e)));return null==n?{type:it.NestedSectionMarkup,data:{section:ht(t)}}:{type:it.NestedSectionMarkup,data:{section:ht(t),block:pt(n)}}}function mt(e){return Array.from(e.querySelectorAll(`[${lt}]`))}function ht(e){if(null!=e.sectionData)return e.sectionData;const t=e.getAttribute(ct);if(null==t)return null;let n=null;try{n=JSON.parse(t)}catch(o){const t=e.outerHTML.match(/^<(.*?)>/);(0,S.K)("StorefrontEvent::Error",{errorMessage:`Unable to JSON.parse section data attributes. openingTagMatch: ${t&&t[0]}`})}return null==n?null:(e.sectionData=n,e.sectionData)}function pt(e){if(null!=e.blockData)return e.blockData;const t=e.getAttribute(lt);if(null==t)return null;let n=null;try{n=JSON.parse(t)}catch(o){const t=e.outerHTML.match(/^<(.*?)>/);(0,S.K)("StorefrontEvent::Error",{errorMessage:`Unable to JSON.parse. openingTagMatch: ${t&&t[0]}`})}return null==n?null:(e.blockData=n,e.blockData)}let gt,yt,St,Et,wt;function It(){const{sectionsData:e,sectionGroups:t}=Fe(),n=vt(e);wt=function(e,t){const n=e.every((e=>e.scope===ae.Static));let o=[];o=n?function(e,t){const[n,o]=Ne();return e.reduce(((r,s,i)=>{const c=r[r.length-1],l=me(s.sectionId),a=Ct(s,t);if(null==l||null==a)return r;if(null==c)return r.push(a),r;if(null==n||null==o)return c.scope!==ae.Group&&c.sectionIds.push(s.uniqueId),r;const u=me(e[i-1].sectionId);if(null==u)return r.push(a),r;const d=ge(n,u)&&ge(n,l),f=Se(n,u,o)&&Se(n,l,o),m=ye(o,u)&&ye(o,l);return d||f||m?c.scope!==ae.Group&&c.sectionIds.push(s.uniqueId):r.push(a),r}),[])}(e,t):e.reduce(((n,o,r)=>{const s=n[n.length-1],i=Ct(o,t),c=o.scope===ae.Static&&null==me(o.sectionId);const l=o.scope===ae.Group&&null!=i&&i.scope===ae.Group&&null==Oe(i.type);if(c||l||null==i)return n;if(null==s)return n.push(i),n;const a=e[r-1],u=o.scope===a.scope,d=o.scope===ae.Group&&a.scope===ae.Group,f=!d&&u,m=d&&function(e,t,n){if(e.scope!==ae.Group||t.scope!==ae.Group)return!1;const o=n.find((({sectionIds:t})=>t.includes(e.id)));if(null==o)return!1;return o.sectionIds.includes(t.id)}(o,a,t),h=a.scope===ae.Static&&null==me(a.sectionId),p=o.scope===ae.Static,g=s.scope===ae.Static;return p&&h&&!g||!f&&!m?n.push(i):s.sectionIds.push(o.uniqueId),n}),[]);if(null==t)return o;return t.forEach((e=>{if(0!==e.sectionIds.length)return;const t=Oe(e.type);if(null==t)return;const n=o.findIndex((e=>{const n=me(e.sectionIds[e.sectionIds.length-1]);return null!=n&&ge(n,t)}));return o=function(e,t,n,o){const r=t[e],s=function(e){return{scope:ae.Group,name:e.name,hash:e.resourceHash.hashValue,resourceId:e.resourceHash.resourceId,recordId:e.recordId,sectionIds:[],type:e.type,standardizedType:e.standardizedType}}(n);if(-1===e)return[...t,s];const i=r.sectionIds.findIndex((e=>{const t=me(e);return null!=t&&function(e,t){let n=e.nextSibling;for(;n&&((null===(o=n)||void 0===o?void 0:o.nodeType)===Node.TEXT_NODE||(null===(r=n)||void 0===r?void 0:r.nodeType)===Node.COMMENT_NODE);){var o,r,s,i;if((null===(s=n)||void 0===s?void 0:s.nodeType)===Node.COMMENT_NODE&&n===t)return!0;n=null===(i=n)||void 0===i?void 0:i.nextSibling}return!1}(t,o)}));if(-1===i){return[...t.slice(0,e),s,...t.slice(e)]}return function(e,t,n,o,r){const s=t.sectionIds[n],i=e.slice(0,o),c=e.slice(o+1),l=t.sectionIds.slice(0,n),a=t.sectionIds.slice(n+1),u={...t,sectionIds:[...l,s]},d={...t,sectionIds:a};return[...i,u,r,d,...c]}(t,r,i,e,s)}(n,o,e,t),o})),o}(e,t),Et=function(e,t,n){const[o,r]=e?ke():Ne(),s=n.filter((e=>e.scope===ae.Static));return t.reduce(((e,t)=>{const n=s.find((e=>e.uniqueId===t.sectionIds[0]));if(null==n)return e;const i=me(n.sectionId);return null==i?e:null==o||null==r?(e.top=[...e.top,...t.sectionIds],e):(ge(o,i)?e.top=[...e.top,...t.sectionIds]:ye(r,i)?e.bottom=[...e.bottom,...t.sectionIds]:e.middle=[...e.middle,...t.sectionIds],e)}),{top:[],middle:[],bottom:[]})}(n,wt,e);const o=function(e,t){const n=e.filter((e=>e.scope===ae.Static&&null!=me(e.sectionId)));return(t.top.length+t.middle.length+t.bottom.length)/n.length}(e,Et);(0,S.K)("StorefrontEvent::StatsdEvent",{stat:yt.StaticSectionsRenderedRatio,value:o})}function bt(){var e,t;const{theme:n,template:o,sectionsData:r,sectionSchemas:s,globalBlockSchemas:i,installedApps:c}=Fe(),l=vt(r),a=r.some((e=>e.isContentForJsonTemplate)),u=o.format===gt.Json,d=u?null===(e=o.resourceHash)||void 0===e?void 0:e.resourceId:void 0,f=u?null===(t=o.resourceHash)||void 0===t?void 0:t.hashValue:void 0;return{handle:(null==o?void 0:o.pageInfo.handle)||null,title:(null==o?void 0:o.pageInfo.title)||null,resource:(null==o?void 0:o.resource)||null,type:(null==o?void 0:o.pageInfo.type)||null,templateRecordId:null==o?null:o.recordId,templateBasename:(null==o?void 0:o.basename)||null,templateFormat:(null==o?void 0:o.format)||null,templateSectionOrder:l?r.filter((e=>e.isContentForIndex)).map((e=>({sectionGid:e.uniqueId,sectionId:e.sectionId}))):a?r.filter((e=>e.isContentForJsonTemplate)).map((e=>({sectionGid:e.uniqueId,sectionId:e.sectionId}))):[],templateView:(()=>{const e=T(window.location.href,"view");if(null==e)return null;if(null==o||null==o.basename||-1===o.basename.indexOf("."))return null;return o.basename.substring(o.basename.indexOf(".")+1)===e?e:null})(),templateSections:r,themeSectionGroups:wt,templateStaticSectionPositions:Et,templateSectionSchemas:s,themeId:n.id,isContentForTemplate:a,isContentForIndex:l,globalBlockSchemas:i,appSchemas:c,templateResourceId:d,templateCityHash:f}}function Ct(e,t){if(e.scope===ae.Group){const n=t.find((t=>t.sectionIds.includes(e.id)));return null==n?(E("Unable to find group for section in section group"),null):{scope:ae.Group,name:n.name,type:n.type,recordId:n.recordId,resourceId:n.resourceHash.resourceId,hash:n.resourceHash.hashValue,sectionIds:[e.uniqueId],standardizedType:n.standardizedType}}return{scope:e.scope,sectionIds:[e.uniqueId]}}function vt(e){const[t,n]=ke();return Boolean(t&&n)||"/"===window.location.pathname&&e.some((e=>e.isContentForIndex))}function kt(){const{theme:e,sectionsData:t}=Fe(),n=t.reduce(((e,{uniqueId:t,accessedThemeSettings:n})=>({...e,[t]:n})),{});return{themeGid:e.id,accessedThemeSettings:n}}function At(){const{previewUnconfirmedThemeSettingErrors:e}=Fe();return e||[]}async function Mt(){return{settingMetadata:await st(),brokenMarkupData:dt()}}!function(e){e.Json="JSON",e.Liquid="LIQUID"}(gt||(gt={})),function(e){e.EditorPublish="EditorPublish",e.EditorBadOrigin="EditorBadOrigin",e.EditorMaxGraphQlLimit="EditorMaxGraphQLLimit",e.EditorModulesFailing="EditorModulesFailing",e.EditorModulesSuccess="EditorModulesSuccess",e.EditorModulesTimeToStart="EditorModulesTimeToStart",e.EditorMutationFailing="EditorMutationFailing",e.EditorStyleSheet="EditorStyleSheet",e.EditorInvalidSession="EditorInvalidSession",e.ArgusConnectionFailed="ArgusConnectionFailed",e.ArgusConnectionSuccess="ArgusConnectionSuccess",e.ArgusConnectionUnauthorized="ArgusConnectionUnauthorized",e.CookieCheck="CookieCheck",e.StaticSectionsRenderedRatio="StaticSectionsRenderedRatio",e.SectionGroupComputation="SectionGroupComputation",e.ImageUploadValidationFailed="ImageUploadValidationFailed"}(yt||(yt={})),function(e){e.Gauge="gauge",e.Distribution="distribution"}(St||(St={})),window.addEventListener("DOMContentLoaded",(async()=>{const{time:e}=await async function(e){const t=performance.now(),n=e();return{time:performance.now()-t,returnValue:n}}(It);(0,S.K)("StorefrontEvent::StatsdEvent",{stat:yt.SectionGroupComputation,value:e})}));const Tt=Number(window.name);var xt=n("./node_modules/@shopify/polaris-tokens/dist/esm/build/index.mjs"),Nt=n("./app/utilities/prefers-reduced-motion.ts");const Ot=new class{constructor(){this.gaveUpTryingToDetectFixedHeader=!1,this.fixedHeaderHeight=null,this.isAnimating=!1,this.cancelEnablePointerEvents=void 0,this.disablePointerEventsElement=document.createElement("style"),this.generateScrollFunctions(),this.disablePointerEventsElement.innerHTML="* { pointer-events: auto !important; }"}scrollIntoView(e,t={animate:!0,center:!1},n){const o=Ee(e),r=this.isNotInViewport(o),s=this.fullyInViewport(o);!r&&s||this.scrollRectIntoView(o,t,n)}scrollRectIntoView(e,t={animate:!0,center:!1},n){const{animate:o,center:r}=t;let s=null;const i=()=>{null!=n&&n()};r||(this.fixedHeaderHeight=this.fixedHeaderHeight||this.computeFixedHeaderHeight());const c=this.pageYOffset();let l=c+Math.round(e.top);if(r?l-=Math.max(0,(window.innerHeight-e.height)/2):l>0&&!this.fixedHeaderHeight&&(l-=20),r||null==this.fixedHeaderHeight){if(c+10>l&&l>c-10)return void i()}else if(c+10>l-this.fixedHeaderHeight&&l>c-10)return void i();if(!r&&!this.gaveUpTryingToDetectFixedHeader&&l>25?(l-=this.fixedHeaderHeight||0,s=()=>{const e=this.computeFixedHeaderHeight();if(0===e&&c>200&&(this.gaveUpTryingToDetectFixedHeader=!0),this.gaveUpTryingToDetectFixedHeader||e===this.fixedHeaderHeight||null==this.fixedHeaderHeight)return 0;const t=e-this.fixedHeaderHeight;return this.fixedHeaderHeight=e,-t}):s=()=>0,o&&!Nt.Q)return this.isAnimating=!0,this.scrollToAnimate(c,l,s),void setTimeout(i,400);this.scrollTo(l+s()),this.isAnimating?setTimeout(i,200):i()}scrollTo(e){return window.scrollTo(0,e)}pageYOffset(){return window.pageYOffset}scrollToAnimate(e,t,n){let o=null,r=t,s=n;const i=t=>{null==o&&(o=t);const n=parseInt(xt.TV.motion["duration-300"],10),c=t-o,l=this.easeInOutSine(Math.min(c/n,1));return this.scrollTo(e+(r-e)*l),s&&l>=.5&&(r+=s(),s=null),c<n?requestAnimationFrame(i):(this.isAnimating=!1,null)};return requestAnimationFrame(i)}easeInOutSine(e){return.5*(1-Math.cos(Math.PI*e))}disablePointerEvents(){if(null!=this.cancelEnablePointerEvents&&(this.cancelEnablePointerEvents(),this.cancelEnablePointerEvents=void 0),null==this.disablePointerEventsElement.parentNode)return document.body.appendChild(this.disablePointerEventsElement)}enablePointerEvents(){return this.disablePointerEventsElement.parentNode?document.body.removeChild(this.disablePointerEventsElement):null}generateScrollFunctions(){this.scrollTo=e=>window.scrollTo(0,e),this.pageYOffset=()=>window.pageYOffset}computeFixedHeaderHeight(){this.disablePointerEvents();const e=this.recursivelyComputeFixedHeaderHeight(),t=x(this.enablePointerEvents,150);return this.cancelEnablePointerEvents=t.cancel,t(this),e}recursivelyComputeFixedHeaderHeight(e=0){let t;const n=document.elementFromPoint(0,e),o=this.closestFixedElement(n);if(!o)return 0;const r=window.innerWidth-30,s=document.elementFromPoint(r,e);if(s!==document.documentElement&&(t=this.closestFixedElement(s),t!==o))return 0;let i=o.offsetHeight;return i>0&&(i+=this.recursivelyComputeFixedHeaderHeight(e+i+1)),i}closestFixedElement(e){if(!e||e===document.body||e===document.documentElement)return null;let t=e.correspondingUseElement||e.correspondingElement||e;for(;!["fixed","sticky"].includes(getComputedStyle(t).position);)if(t=t.parentElement,t===document.body)return null;return t}isNotInViewport({top:e,bottom:t}){return e>(window.innerHeight||document.documentElement.clientHeight)-60||t<60}fullyInViewport({top:e,bottom:t}){const n=window.innerHeight||document.documentElement.clientHeight;return e>=0&&e<n-60&&t<n-60}};function _t(e,t,n){Ot.scrollIntoView(e,t,n)}var $t=n("./packages/@editor/storefront-controller/modules/utilities/dispatch-document-event.ts");function Ft({type:e,target:t,data:n}){(0,$t.g)(t,`shopify:${e}`,n?{data:n}:void 0)}function Pt(e){console.warn(e)}let Bt;function Ht(e,t,n,o){const r=he(e,n);return null==r?(Pt(Bt.MissingBlock),null):(Ft({type:"block:select",target:r,data:{sectionId:t,blockId:n,load:o}}),r)}!function(e){e.MissingBlock="Could not find selected block, please make sure your theme is using {{ block.shopify_attributes }}."}(Bt||(Bt={}));const Dt=({scrollingOptions:e,sectionGid:t,sibling:n,markup:o,selectSection:r,selectedBlockId:s,groupType:i})=>{const c=we(o);if(null==c)throw new Error("Could not insert section.");if(n){const{siblingSectionGid:e,isAfterSibling:t}=n,o=Ie(e),r=document.getElementById(o);if(null==r)throw new Error("Could not insert section.");t?ue(r,c):(d=c,(a=r).parentNode&&a.parentNode.insertBefore(d,a))}else{let e=null;const t=null!=i;if(e=t?Oe(i):pe(u)||pe(l)||pe(m),null==e)throw new Error("Could not insert section.");t?e.appendChild(c):ue(e,c)}var a,d;return _t(c,e),Ft({type:"section:load",target:c,data:{sectionId:t}}),r&&(Ft({type:"section:select",target:c,data:{sectionId:t,load:!0}}),null!=s&&Ht(c,t,s,!0)),Mt()};function Lt({blockId:e,sectionElement:t,options:n}){if(e){return _t(he(t,e)??t,n)}return _t(t,n)}const Gt=({sectionGid:e,blockId:t,options:n})=>{const o=Ie(e),r=document.getElementById(o);null!=r&&Lt({blockId:t,sectionElement:r,options:n})},Rt=e=>({sectionCoordinates:function({selectedSectionGid:e,scrollToCoordinates:t,siblingOptions:n}){const o=Ie(e),r=document.getElementById(o);if(null==r)return null;t&&_t(r,{center:!0});const s=Ee(r);return null==n?s:Kt(s,n)}(e)||function(){const e=pe(d)||pe(h)||pe(a);if(null==e)return(0,S.K)("StorefrontEvent::Error",{errorMessage:"Unable to locate comment node needed for section coordinates"}),null;const{parentNode:t}=e;if(null==t)return(0,S.K)("StorefrontEvent::Error",{errorMessage:"Unable to locate comment parent node needed for section coordinates"}),null;return Kt(Ee(t),{isAfterSibling:!0})}()});function Kt(e,t){return{top:t.isAfterSibling?e.bottom:e.top,left:e.left,bottom:t.isAfterSibling?e.bottom:e.top,right:e.right,width:e.width,height:0,x:e.x,y:e.y}}const qt=({selectedSectionGid:e,nextOrder:t})=>{const n=t.map(Ie),o=Ie(e),r=document.getElementById(o);n.forEach(((e,t)=>{const o=document.getElementById(e);if(null==o)throw new Error("Tried to reorder a section that does not exist.");const r=n[t-1],s=document.getElementById(r);null!=s&&ue(s,o)})),null!=r&&(_t(r,{center:!0,animate:!1}),Ft({type:"section:reorder",target:r,data:{sectionId:e}}));return Rt({selectedSectionGid:e})},Ut=async({sectionGid:e})=>{const t=Ie(e),n=document.getElementById(t);if(null==n)throw new Error("Could not remove section");var o;return Ft({type:"section:unload",target:n,data:{sectionId:e}}),null!=(o=n).parentNode&&o.parentNode.removeChild(o),Mt()};function jt(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,r.stringify)({_method:"get",...t},{arrayFormat:"brackets"})})}const Vt=async({sectionInput:e,sectionGid:t,isConfirmed:n})=>{const o=await async function(e){const t=`${window.location.pathname}${window.location.search}`;return(await jt(t,e)).json()}({render_sections:{[t]:JSON.stringify(e)},unconfirmed_sections:!n}),{html:r,json:{accessedThemeSettings:s,blocks:i}}=o.sections[t];return{markup:r,accessedThemeSettings:s,blocks:i}},Jt=async({sectionGid:e,markup:t,reselectSection:n,reselectBlockId:o,targetBlockId:r})=>{const s=Ie(e),i=document.getElementById(s);if(null==i)return Mt();const c=we(t);if(null==c)throw new Error("Could not replace the section: Failed to create a new element with the markup received.");var l,a;return Ft({type:"section:unload",target:i,data:{sectionId:e}}),a=c,null!=(l=i).parentNode&&l.parentNode.replaceChild(a,l),Lt({blockId:r,sectionElement:c}),Ft({type:"section:load",target:c,data:{sectionId:e}}),n&&(Ft({type:"section:select",target:c,data:{sectionId:e,load:!0}}),null!=o&&Ht(c,e,o,!0)),Mt()},zt=({sectionGid:e,blockId:t})=>{const n=Ie(e),o=document.getElementById(n);null!=o&&(null!=t?Ht(o,e,t,!1):Ft({type:"section:select",target:o,data:{sectionId:e,load:!1}}))},Yt=({sectionGid:e,blockId:t})=>{const n=Ie(e),o=document.getElementById(n);null!=o&&(null==t?Ft({type:"section:deselect",target:o,data:{sectionId:e}}):function(e,t,n){const o=he(e,n);null==o?Pt(Bt.MissingBlock):Ft({type:"block:deselect",target:o,data:{sectionId:t,blockId:n}})}(o,e,t))},Xt=[f],Wt=["noscript","style","meta","link","base","head","title"];function Qt(e){return Array.from(e).filter((e=>!Xt.includes(e)))}const Zt=({sectionGid:e})=>{const t=Ie(e),n=document.getElementById(t);if(null==n)return{sectionCssMetadata:null};const o=function e(n){const o=n.getAttribute("id"),r=o===t?[]:Qt(n.classList),s=o&&o!==t?[o]:[],c=n.tagName.toString().toLowerCase(),l=Wt.includes(c),a=o===t||l?[]:[c],u=o===t?Qt(n.classList):[],d=Array.from(n.children).reduce(((t,n)=>{if(!(n instanceof HTMLElement))return t;const o=e(n);return{classes:[...t.classes,...o.classes],ids:[...t.ids,...o.ids],tags:[...t.tags,...o.tags]}}),{classes:[],ids:[],tags:[]});return{classes:i([...r,...d.classes]),ids:[...s,...d.ids],tags:i([...a,...d.tags]),sectionClassesToExclude:u}}(n);return{sectionCssMetadata:o}};let en,tn;function nn(){en=null,document.body.removeChild(tn)}function on({settingKey:e,settingValue:t}){tn||(tn=document.createElement("style"),tn.innerHTML="* { transition: none !important; }"),en?clearTimeout(en):document.body.appendChild(tn),en=window.setTimeout(nn,200),window.document.documentElement.style.setProperty(`--shopify-editor-${e}`,t)}function rn({settingKey:e,settingValue:t}){let n=!1;const o=Array.from(document.querySelectorAll("[data-live-text-setting]")).filter((t=>{const o=t.getAttribute(nt);return o===e||o===`${e}/escape`&&(n=!0,!0)}));n?o.forEach((e=>e.textContent=t.toString())):o.forEach((e=>e.innerHTML=t.toString()))}let sn;const cn=async({themeSettingChanges:e,timeStamp:t})=>{sn=t;const n=await et(e.map((({setting_id:e})=>e))),o=await async function({currentAssets:e,themeSettingChanges:t}){let n={};const o=Object.entries(e).filter((([e,t])=>t.isCheckoutAsset)).map((async([e,o])=>{const r=await async function(e,t){try{const n=await jt(e,t);return{content:await n.text()}}catch(n){return{error:n}}}(o.href,{render_assets:[],theme_setting_changes:t});n[e]=r})),r=Object.entries(e).filter((([e,t])=>!t.isCheckoutAsset)).map((([e,t])=>e));if(r.length>0){const{assets:e}=await async function(e){const t=`${window.location.pathname}${window.location.search}`;return(await jt(t,e)).json()}({render_assets:r,theme_setting_changes:t});n={...n,...e}}return await Promise.all(o),n}({currentAssets:n,themeSettingChanges:e});0!==Object.keys(o).length&&sn===t&&Object.entries(n).forEach((([e,{element:t,accessedInStylesheets:n,isCheckoutAsset:r,href:s}])=>{const i=o[e],c=function(e){return"error"in e}(i)?"":i.content;if(c){var l;const o=function({content:e,fileName:t,accessedInStylesheets:n,isCheckoutAsset:o,href:r}){const s=document.createElement("style");return s.type="text/css",s.innerHTML=e,s.setAttribute("filename",t),s.setAttribute("accessedinstylesheets",JSON.stringify(n)),s.setAttribute("isCheckoutAsset",String(o)),s.setAttribute("href",r),s}({content:c,fileName:e,accessedInStylesheets:n,isCheckoutAsset:r,href:s});null===(l=t.parentNode)||void 0===l||l.replaceChild(o,t)}}))};function ln(e){if(e.isTrusted)return function(e){return"click"===e.type}(e)?(0,S.K)("StorefrontEvent::UserInteractionEvent",{type:"click",event:{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,cancelable:e.cancelable,bubbles:e.bubbles}}):function(e){return"keydown"===e.type}(e)?("s"===e.key&&(e.metaKey||e.ctrlKey)&&e.preventDefault(),(0,S.K)("StorefrontEvent::UserInteractionEvent",{type:"keydown",event:{altKey:e.altKey,charCode:e.charCode,code:e.code,ctrlKey:e.ctrlKey,isComposing:e.isComposing,key:e.key,keyCode:e.keyCode,shiftKey:e.shiftKey,metaKey:e.metaKey,cancelable:e.cancelable,bubbles:e.bubbles}})):void 0}function an(e){(function(e){var t,n;return!0===(null===(t=e.dataTransfer)||void 0===t||null===(n=t.types)||void 0===n?void 0:n.some(un))})(e)&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="none")}function un(e){return e.toLowerCase().includes("file")}let dn;!function(e){e.Strict="Strict",e.Lax="Lax",e.None="None"}(dn||(dn={}));function fn({name:e,value:t,expires:n,maxAge:o,domain:r=location.hostname,path:s="/",secure:i=!0,httpOnly:c=!1,sameSite:l=dn.Strict,partitioned:a=!1}){const u=[`${e}=${encodeURIComponent(t)}`];n&&u.push(`Expires=${n.toUTCString()}`),o&&u.push(`Max-Age=${o.toString()}`),r&&u.push(`Domain=${r}`),s&&u.push(`Path=${s}`),l&&u.push(`SameSite=${l}`),i&&u.push("Secure"),c&&u.push("HttpOnly"),a&&u.push("Partitioned");const d=`${u.join(";")};`;gn(`Setting Cookie: ${d}`),document.cookie=d;const f=function(e){return function(){if(""===document.cookie)return[];return decodeURIComponent(document.cookie).split(";").map((e=>e.trim())).reduce(((e,t)=>{const[n,o]=t.split("=");return[...e,{name:n,value:o}]}),[])}().find((t=>t.name===e))}(e);return gn(f?`Cookie "${e}" persisted`:`Cookie "${e}" did not persist`),Boolean(f)}function mn(e){return"hasStorageAccess"in e&&!1}async function hn(){return!!mn(document)&&document.hasStorageAccess()}function pn(){try{return null!=window.top&&window.top===window&&window.top.location.hostname===window.location.hostname}catch{return!1}}function gn(...e){}const yn={locationBehaviour:function(){var e;K=function(){const e=T(window.location.href,g);if(null!=e)return e;const t=(0,y.er)();if(null==t||null==t.oseid)throw E("oseid could not be accessed from window.Shopify.oseid in LocationBehavior.ts."),new Error("Shopify object is missing");return t.oseid}(),U=[(0,c.w7)()],function(){const e=window;e.Request=te.Request(Request),e.fetch=te.fetch(fetch),e.history.pushState=te.pushState(history.pushState),e.history.replaceState=te.replaceState(history.replaceState),e.XMLHttpRequest.prototype.open=te.XMLHttpRequest(XMLHttpRequest.prototype.open)}(),oe(),e=re,"loading"===document.readyState?v("DOMContentLoaded",e):A(e),C("load",oe,!1),k(ie),C("click",Y,!0),C("click",Y,!1),b("StorefrontMessage::Domains",J),b("StorefrontMessage::Navigate",z)},scrollPosition:function(){b("StorefrontMessage::SetScrollPosition",(({xOffset:e,yOffset:t,pathname:n})=>{null!=n&&n===window.location.pathname&&window.scrollTo(e,t)})),v("scroll",x(le,100))},lifeCycleEventManager:function(){function e(){const e=new URL(location.href);let t="";for(const[n,o]of e.searchParams.entries())n!==g&&(0===t.length?t=`?${n}=${o}`:t+=`&${n}=${o}`);return`${e.pathname}${t}`}b("StorefrontMessage::Ping",(({id:e})=>{(0,S.K)("StorefrontEvent::Pong",{id:e})})),(0,S.K)("StorefrontEvent::Load",{pathname:e(),search:location.search,frameVersion:Tt}),null==window.parent.postMessage&&(0,S.K)("StorefrontEvent::Error",{errorMessage:"Post message does not exist on window.parent"}),C("pagehide",(()=>{window.name=String(Tt),(0,S.K)("StorefrontEvent::Unload",{pathname:e(),frameVersion:Tt})})),k((async()=>{const{pathname:e}=window.location;$e=void 0;const t=await async function(){return{brokenMarkupData:dt(),pageMetadata:bt(),accessedThemeSettings:kt(),settingMetadata:await st(),unconfirmedThemeSettingErrors:At(),passwordBypassRequired:Boolean(Fe().passwordBypassRequired)}}();window.closed||(t.pageMetadata.templateBasename===o.CheckoutOne&&(0,S.K)("StorefrontEvent::C1Load",{pathname:e}),(0,S.K)("StorefrontEvent::Ready",{pathname:e,frameVersion:Tt,...t}))}))}},Sn={...yn,sectionManager:function(){b("StorefrontMessage::InsertSection",Dt),b("StorefrontMessage::ScrollToSection",Gt),b("StorefrontMessage::SetSectionOrder",qt),b("StorefrontMessage::RemoveSection",Ut),b("StorefrontMessage::FetchSectionAssets",Vt),b("StorefrontMessage::ReplaceSection",Jt),b("StorefrontMessage::SelectElement",zt),b("StorefrontMessage::DeselectElement",Yt),b("StorefrontMessage::GetSectionCoordinates",Rt),b("StorefrontMessage::GetSectionCssMetadata",Zt)},stylesheetError:function(){k((()=>{const e=de("--shopify-editor-stylesheet-error",window.getComputedStyle(document.body));(0,S.K)("StorefrontEvent::StylesheetError",function(e){if(null==e)return null;return{file:e.file,message:e.message}}(e))}))},liveSettings:function(){b("StorefrontMessage::LiveUpdateColorSetting",on),b("StorefrontMessage::LiveUpdateTextSetting",rn)},replaceStylesheets:function(){b("StorefrontMessage::ReplaceStylesheets",cn)},userInteractions:function(){C("click",ln),C("keydown",ln)},preventFileDragOver:function(){C("dragover",an)},thirdPartyCookies:async function(){(0,S.K)("StorefrontEvent::CookieCheck",{hasStorageAccessApi:mn(document),canWriteCookies:fn({name:"third_party_test",value:"1",maxAge:60,sameSite:dn.None}),hasStorageAccess:await hn(),context:pn()?"FIRST_PARTY":"THIRD_PARTY"})}},En={locationBehaviour:"uninitialized",scrollPosition:"uninitialized",lifeCycleEventManager:"uninitialized",sectionManager:"uninitialized",stylesheetError:"uninitialized",liveSettings:"uninitialized",replaceStylesheets:"uninitialized",userInteractions:"uninitialized",preventFileDragOver:"uninitialized",thirdPartyCookies:"uninitialized"},wn={locationBehaviour:-1,scrollPosition:-1,lifeCycleEventManager:-1,sectionManager:-1,stylesheetError:-1,liveSettings:-1,replaceStylesheets:-1,userInteractions:-1,preventFileDragOver:-1,thirdPartyCookies:-1};function In(e,t){wn[e]=performance.now();try{t(),wn[e]=performance.now()-wn[e],En[e]="initialized"}catch(n){En[e]="error",(0,S.K)("StorefrontEvent::Error",{errorMessage:`${e}: ${n.message}`})}}if(window===window.top){const e=new URLSearchParams(location.search);e.delete(g),e.set("ose","false"),window.location.href=`${location.protocol}//${location.host}${location.pathname}?${e}`}try{top&&(top.window.Shopify={...top.window.Shopify,contentForIndex:[]})}catch{}const{template:bn}=Pe(),Cn=bn.basename===o.CheckoutOne;Cn?Object.entries(yn).forEach((([e,t])=>In(e,t))):Object.entries(Sn).forEach((([e,t])=>In(e,t))),function(e){const t=[],n=null!=e&&e.isCheckoutOne?{locationBehaviour:En.locationBehaviour,scrollPosition:En.scrollPosition,lifeCycleEventManager:En.lifeCycleEventManager}:En;Object.entries(n).forEach((([e,n])=>{"initialized"!==n&&t.push(e)}));const o=0===t.length?{status:"success"}:{status:"fail",affectedModules:t};(0,S.K)("StorefrontEvent::ModuleStatus",o)}({isCheckoutOne:Cn}),function(){const e=Object.values(wn).reduce(((e,t)=>t?e+t:e),0);(0,S.K)("StorefrontEvent::ModulesTimeToStart",{totalTime:e})}()},"./packages/@editor/storefront-controller/modules/utilities/domain.ts":(e,t,n)=>{"use strict";n.d(t,{kY:()=>r,w7:()=>s});var o=n("./packages/@editor/storefront-controller/modules/utilities/globals.ts");function r(){return`https://${function(){const e=(0,o.er)();if(null==e)throw new Error("Shopify object is missing");return e.editorDomain}()}`}function s(){const e=(0,o.er)();if(null==e)throw new Error("Shopify object is missing");return e.shop}},"./packages/@editor/storefront-controller/modules/utilities/globals.ts":(e,t,n)=>{"use strict";function o(){return s}n.d(t,{YM:()=>o,er:()=>i});const r=window.Shopify,s={parent:window.parent,Shopify:r&&{...r}};function i(){return o().Shopify}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,r,s)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,s]=e[u],c=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(c=!1,s<i&&(i=s));if(c){e.splice(u--,1);var a=r();void 0!==a&&(t=a)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,r,s]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={storefrontModules:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,s,[i,c,l]=n,a=0;if(i.some((t=>0!==e[t]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(l)var u=l(o)}for(t&&t(n);a<i.length;a++)s=i[a],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},n=self.webpackChunk_SK=self.webpackChunk_SK||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,["vendors-node_modules_qs_lib_parse_js-node_modules_qs_lib_stringify_js-node_modules_shopify_po-655398","vendors-node_modules_qs_lib_index_js-node_modules_shopify_polaris-tokens_dist_esm_build_index_mjs","app_utilities_prefers-reduced-motion_ts","packages_editor_storefront-controller_modules_utilities_dispatch-document-event_ts-packages_e-334db7"],(()=>o("./packages/@editor/storefront-controller/modules/index.ts")));r=o.O(r),_SK=r})();